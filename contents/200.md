# 灰兔电台 1.1.0

## 新功能

### 共通
- 完全重写了消息列表的渲染方式，现在在性能较弱的手机上滚动性能会大幅提升

### Android

- 略微优化了安装包体积，现在安装包比以往小了13%
- 启动速度略微提升
- 内存占用略微下降

## 问题修复

- 现在推送通知不会反复提示同一条未读消息

## 附言

- Android安装包大小是iOS两倍的原因是Android依然包含了32位二进制文件，而iOS只需要支持64位
- 滑动不顺畅多发生在Android，特别是比较老的Android手机上，而不顺畅可能会是:
  1. 消息列表滑动不顺畅
  2.  消息正文滑动不顺畅
- 消息列表不顺畅的主要原因是动态渲染列表的操作非常昂贵，在Android上尤其明显，而现在我们有数百条电台消息，这么长的列表不优化确实会有很严重的性能问题，这是此次更新的重点，我们重写了整个消息列表渲染器，所有设备都可以从中受益。
- 消息正文不顺畅的原因对我们而言就更头疼一点。这个情况几乎只出现在Android 版本 < 9 的手机中而无关硬件配置。即使是非常老旧，性能非常弱的手机(如骁龙800时代的手机)，升级到Android >= 9 后也没有出现过消息正文不顺畅的问题。对于这个我们能做的就相对而言比较有限，因为这个是旧版本Android的“特性”。我们目前的正文渲染器是为了最大限度兼容电脑版正文而设计的，这也让我们很难去使用对较旧的系统也很友好的技术。
	- 这也是为什么我们说 “需要Android 版本9.0及以上” 才能保证功能正常的原因。
	- 如果今后我们有时间，并且使用旧版本Android的用户相当多，可能考虑为较低版本的系统专门写一个“兼容模式渲染器”，舍弃掉一些电脑版的排版和内容（比如多媒体播放器）来提升性能。

----

## 下载地址

https://cocogachi.lanzous.com/b01zyzg3a 

密码:etmi

